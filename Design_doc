Distributed systems programming Assignment -1

Authors:
--------
1) Daniel William DaCosta
   Student ID:4433217
   email: chaosape@gmail.com

2) Bala Subrahmanyam Kambala
   Student ID: 4451379
   email: kamb0024@umn.edu


Superpeer:
----------
Maintains all peers information in a SortedSet datastructure. Using this datastructure, we can easily determine the successor and predessor of a node.

Generating a Hashing key is owned by superpeer. This makes sure that hash keys are generated uniquely. In other words, If every peer maintains its own hashing mechansim, generated hash keys may collide.

This superpeer can be started with specifying size of finger table as a input. 

Peer:
-----

Each peer maintains dictionary in Map data structure. Key is word and value is its meaning. 

Each peer maintains peercache. This peercache contains a map between node id and RMI peerinterface. This design reduces a number of RMI calls.

superpeer address can be specified in a command line input. By default peer assumes that supeerpeer is at localhost. 

FingerTable for each node is constructed on addition of new node. This might be induce un-necessary computations in the beggining but insert and lookup operations will be faster. 
FingerTable is of size m and each entry contains <key, nodeid>. Using SortedSet for a FingerTable so that entries are in sorted by key id.

Client:
-------
Good number of features are provided to client through command line interface. Client can list the peers, upload whole set of words in a file, look for a word in DHT, can print details of a peer using nodeid.




Source code structure:
----------------------

data - contains sample dictionary files
jars - contains a common jars used in project
scripts - contains shell scripts to execute code
src - contains a source code in Java

README - contains how to build & run code



Assumption:
----------
1) Word and its meaning is separated with :
2) New peers(nodes) are added only at the beg


TestCases:
---------
Our project works perfectly in a single machine though RMI doesn't make sense in a single machine. We are exposing peer services using nodeid, which is unique to each node.


Testcase1: Printing options while running client
----------

kamb0024@kh2170-12 (/home/it10/kamb0024/DictionaryDHT/src) % ../scripts/RunCLI.sh -h
usage: CLI [-hLd] [-l word] [-f file] [superpeer address]  [-P peer address] [-p
           peer ID])
CLI provides remote access to peers and superpeers within this CHORD
implementation.
 -d,--data             Output the data for a particular peer. Peer can be
                       specified with the -P and -p options or will the first
                       node will be chosen.
 -f,--filename <arg>   Load all definitions from a file from a particular peer.
 -F,--fingertable      Output the finger table, predecessor and success of a
                       particular peer. Peer can be specified with the -P and -p
                       options or will the first node will be chosen.
 -h,--help             Print this usage information.
 -L,--listpeers        Calls the RMI getPeer on the provided host. It will list
                       all known peers.
 -l,--lookup <arg>     Lookup a word from a particular peer.
 -P,--peerIP <arg>     Specify the peer IP address. If none is provided, one
                       will be choosen if required by the directive.
 -p,--peerId <arg>     Specify the peer Id address.
 -v,--verbose          When set insert and lookup will output log messages.
Bala Subrahmanyam Kambala, Daniel William DaCosta - GPLv3
(http://www.gnu.org/copyleft/gpl.html)


Testcase2: Listing out the peers in DHT
----------

kamb0024@kh2170-12 (/home/it10/kamb0024/DictionaryDHT/src) % ../scripts/RunCLI.sh -L kh2170-04.cselabs.umn.edu

0) 4 = 128.101.39.171
1) 13 = 128.101.39.167
2) 16 = 128.101.39.168
3) 19 = 128.101.39.166
4) 26 = 128.101.39.165

Explanation:
------------
-L option for listing of peers. superpeer address is kh2170-04.cselabs.umn.edu. 
Ouput indicates that 5 peers are available in DHT. Each line output is formated as <node id> = <IP address>


Testcase3: Inserting words from a file. 
----------

kamb0024@kh2170-12 (/home/it10/kamb0024/DictionaryDHT/src) % ../scripts/RunCLI.sh -f ../data/SampleWords.txt kh2170-04.cselabs.umn.edu
Beverage = a drink
Insoluble = that cannot be dissolved
Disclaim = disown, give up all claims
Jump = a sudden movement
Landholder = owner of a land
Concoct = fabricate, make up, scheme
Outspoken = candid, frank
...........................
............................
Incredulous = refusing to believe
Maiden = pure, unused, first
Card = comb wool etc

Explanation:
------------
-f option for inputting a file name to insert words in DHT. Superpeer address is kh2170-04.cselabs.umn.edu. 
At client, words are printed out on console.


Testcase4: Lookup word which is inserted in DHT
----------

kamb0024@kh2170-12 (/home/it10/kamb0024/DictionaryDHT/src) % ../scripts/RunCLI.sh -l Eject kh2170-04.cselabs.umn.edu
expel, emit

Explanation:
------------
-l option for look for a word in DHT. Superpeer address is kh2170-04.cselabs.umn.edu. 
Looking for a word 'Eject' and meaning of word 'expel, emit' is printed on console at CLIENT.

Testcase5: Looking for a word which is not in DHT
----------

kamb0024@kh2170-12 (/home/it10/kamb0024/DictionaryDHT/src) % ../scripts/RunCLI.sh -l Balu kh2170-04.cselabs.umn.edu
Meaning is not found

Explanation:
------------
-l option for look for a word in DHT. Superpeer address is kh2170-04.cselabs.umn.edu. 
Looking for a word 'Balu' but meaning is not available in DHT


Testcase6: Printing out a dictionary stored at peer.
----------

kamb0024@kh2170-12 (/home/it10/kamb0024/DictionaryDHT/src) % ../scripts/RunCLI.sh -d -P 128.101.39.168 -p 16 kh2170-04.cselabs.umn.edu
0) Pod = seed-case of leguminous plants, cocoons of silkworms
1) Coil = a rope which has been wound or gathered in rings
2) Jurist = one learned in law
3) Erode = eat away gradually
4) Decease = death
5) Lassitude = tiredness
6) Discomfort = inconvenience
7) Expunge = remove
8) Clamp = a device to hold things together
9) Fascinate = attract, enchant
10) Flash = give light, come suddenly
11) Career = a profession
12) Coeducation = education imparted for both sexes together
13) Lobby = talk to win favour
14) Ideology = system of ideas manner of thinking
15) Mail = armour post
16) Codify = edit, arrange systematically

Explanation:
------------
-d option is for to print a dictionary at a particular P IPaddress and p nodeid. Superpeer address is kh2170-04.cselabs.umn.edu. 
Output is list of words.


Testcase6: Printing a fingertable, successor and predecessor of a node.
----------

kamb0024@kh2170-12 (/home/it10/kamb0024/DictionaryDHT/src) % ../scripts/RunCLI.sh -F -P 128.101.39.168 -p 16 kh2170-04.cselabs.umn.edu
Predecessor:13
Successor:19
0) 0 = 19
1) 17 = 19
2) 18 = 19
3) 20 = 26
4) 24 = 26


Explanation:
------------
-F option is for to print a fingertable of a node (p-nodeid, P-Ipaddress)



